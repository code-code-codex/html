# Déboguer HTML

----------
Parler des évaluations ? 

Retour sur la séance précédente.
Nous avons vu que sur le papier le balisage HTML est relativement simple à mettre en œuvre… pour autant, il est facile de se tromper.
Avant d'aller plus loin, voyons comment peut-on se béboguer avec les outils du développeur!


----------
diapo 1 

Avant d'aller plus loin, revenons un peu sur la syntaxe HTML
La casse
Au tout début de HTML, la plupart des développeurs utilisaient des capitales pour les noms de balises HTML.
aujourd'hui, on utilise plus volontier la bas de casse. Pour autant, les anciens site web fonctionnent toujours, à l'image de la première page web [première page web](https://www.w3.org/History/19921103-hypertext/hypertext/WWW/TheProject.html)

En réalité, à de rares exceptions près, HTML n'est pas sensible à la casse https://html.spec.whatwg.org/multipage/syntax.html#syntax

on peut donc écrire indifféremment :
```html
<p>Mon paragraphe.</p>
<P>Mon paragraphe.</P>
<p>Mon Paragraphe.</P>
```

Vous avez aussi peut-être remarqué que certaines balises ont des noms courts et d'autres ont des noms longs. 
Tous simplement au déut des années 90, un PC moyen c'est un processeur de 16 MHz, un disque dur de 80 Mo et une mémoire vive de 2 Mo. On Essaye donc d'économiser les ressources… et pour économiser des ressources et de la mémoire, on utilisait moins de caractères… Ce qui n'est plus le cas aujourd'hui, où on utilise plus volontier des termes, anglais, explicites `<video>`, `<blokquote>`, `<article>`, etc. et facilement compréhensible pour les humains. La taille des balises est un relativement bon indicateur de leur ancienneté.

Enfin, on a vu qu'à toute balise ouvrante doit correspondre une balise fermante. Cette règle est vraie pour les éléments les plus récents, comme ceux cités juste au dessus, qui fonctionnent tous par paire. Parfois, comme nous l'avons vu, certaines balises n'ont pas de contenu, `<br />` par exemple ou `<img />` comme nous le verrons dans la suite de ce cours, la plupart de ces balises datent du milieu des années 90, et à ce moment on pensait que si on balise fermante n'était pas nécessaire, pourquoi en utiliser une ? plus tard, avec l'arrivé de XML, on a pensé que c'était bien de signifier que ces balises étaient autofermantes, avec l'ajout du slash. En vérité aujourd'hui ça ne pose pas vraiment de problème et on ne se préoccupe plius vraiment de la question… le navigateur affichera votre page dans les deux cas…

HTML est donc un langage qui présente une certaine robustesse et est de fait relativement résilient. Si quelque chose ne va pas avec HTML, une erreur de syntaxe par exemple, c'est très rarement bloquant, le navigateur va juste « deviner » ce qu'on voulaient dire, tenter de le corriger et afficher la page. HTML peut supporter beaucoup d'abus et continuer à fonctionner : pour autant, malgré cette robustesse, des erreurs restent possibles et même si elles n'empêcheront pas votre page de s'afficher il faut être capable de les déboguer !

Pour cela on dispose de plusieurs outils 
- les outils du développeurs dans les navigateurs
- La validation HTML
- Les linters

----------
diapo 2 présentation outils du développeurs dans les navigateurs

Les outils du développeurs sont présents dans tous les navigateurs récents. Ils permettent :
- d'inspecter le code HTML
- d'inspecter le code CSS
- de déboguer le code JS et d'accéder à la console
- de visualiser les accès réseaux et autres requêtes HTTP, etc.

Mais intéressons nous déjà à l'inspecteur HTML. 
Le code que l'on voit est en réalité le DOM (Document Object Model) créé par le navigateur :
- Quand le navigateur reçoit une ressource HTML, il la lit
- il la révise, par exemple pour corriger quelques erreurs qui pourraient être présente
- Il crée sa propre version, la version DOM.

Pour y accéder : 


Firefox : onglet `Outils/Outils du navigateur/Outils de développement web` | clique droit sur la page ou un élément de la page `Inspecter`
Safari : onglet `Developpement/Afficher l'inpecteur web` | clique droit sur la page ou un élément de la page `Inspecter l'élément`
Chrome : onglet `Afficher/Options pour les développeurs/Outils de développement` | clique droit sur la page ou un élément de la page `Inspecter l'élément`
Edge : menu `Paramètres et bien plus encore (...)/Autres outils/Outils de développement` | clique droit sur la page ou un élément de la page `Inspecter`

Présenter l'inspecteur, plusieurs fenêtres, etc.,  les petits triangles qui masquent le texte, etc. 

Les outils du développeur peuvent être utilisés sur n'importe quel site web, et ils permettent de voir comment certaines pages web ou certains sites fonctionnent et de voir comment les autres développeurs utilisent HTML. Ça permet de trouver des idées.

Mais surtout l'inspecteur HTML peut nous aider à déboguer les erreurs !

Prenon un premier exemple : 
- on a une liste ordonnée avec 5 item, mais un blanc, qui perturbe le comptage => comment solutionner ce problème ? => outils du développeur pour regarder le DOM
- En réalité le navigateur a essayé de réparer le code HTML qu'il a reçu pour construire le DOM, mais il a pensé qu'il devait y avoir 5 éléments et non 4.
- On peut voir que quelque chose ne va pas avant ce qui devrait être le troisième élément, et je sais que le navigateur ajoute plus de balises, il ajoute une paire de balises supplémentaire
- Reprenons mon HTML d'origine et quelque part avant le troisième terme, oh je vois, j'ai dit au navigateur de commencer un autre élément de liste juste ici au lieu de lui dire d'en terminer un
- si on ajoute un barre oblique c'est réglé

À vous de jouer ! 

----------
diapo 3
Le HTML Validator

Un autre outil puissant pour solutionner des problèmes est la validation HTML. Mais pour comprendre comment ça fonctionnement, revennons aux origines de HTML.

HTML a vu le jour au tournant des années 90. C'est en réalité un application SGML.

1969 : Charles Goldfarb, Edward Mosher et Raymond Lorie, alors chez IBM, mettent au point GML (Generalized Markup Language)
1980’s : Charles Goldfarb développe SGML
1986 : SGML est publié comme norme internationale ISO 8879:1986
1989 : Naissance de HTML, une application SGML
<!-/-1998 : Naissance de XML-/->

Objectif de SGML : représenter des données contenues dans un document sans tenir compte des systèmes utilisés pour la saisie et le traitement, ni des solutions de publication.
SGML est un métalangage qui introduit la notion de DTD (Document Type Definition) qui permet de décrire un modèle de document. On peut voir une DTD comme un dictionnaire de balises (balises que l'on peut utiliser ainsi que le cadre dans lequel on peut les appeler)

Un document SGML se compose de 3 parties : 
    - une DTD ;
    - une ou plusieurs feuilles de style ;
    - une instance.


HTML repose donc sur la syntaxe SGML.
Les premières version ne permettaient pas de faire grand chose, essentiellement structurer du texte sous forme de titre, de liste ou de texte brut et de naviguer grace à des liens hypertextuels.
Rapidement le nombre de balises a augmenté mélangeant balises sémantiques et balise de stylage (merci Netscape et problème de compatibilité).

Au début les balises étaient courtes (pour économiser de la mémoire) et toutes n'avait pas besoin d'être fermées

Tentative d'évolution vers la syntaxe XML, plus stricte que SGML => XHTML (que nous évoquerons tout à l'heure)

aujourd'hui et depuis 2007, nous sommes à la version 5 de HTML.


